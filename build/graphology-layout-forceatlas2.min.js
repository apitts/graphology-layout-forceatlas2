!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.forceAtlas2=e():t.forceAtlas2=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){function n(t,e,o){if(!a(e))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");"number"==typeof o&&(o={iterations:o});var n=o.iterations;if("number"!=typeof n)throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(n<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var r=s.assign({},u,o.settings),l=s.validateSettings(r);if(l)throw new Error("graphology-layout-forceatlas2: "+l.message);var g,f=s.graphToByteArrays(e);for(g=0;g<n;g++)i(r,f.nodes,f.edges);return t?void s.assignLayoutChanges(e,f.nodes):s.collectLayoutChanges(e,f.nodes)}function r(t){var e=t.order;return{barnesHutOptimize:e>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(e)}}var a=o(1),i=o(2),s=o(3),u=o(4),l=n.bind(null,!1);l.assign=n.bind(null,!0),l.inferSettings=r,t.exports=l},function(t,e){t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi}},function(t,e){t.exports=function(t,e,o){var n,r,a,i,s,u,l,g,f,h,b,d,c,p,y,M,w,m=e.length,v=o.length,A=t.adjustSizes,D=t.barnesHutTheta*t.barnesHutTheta,x=[];for(a=0;a<m;a+=10)e[a+4]=e[a+2],e[a+5]=e[a+3],e[a+2]=0,e[a+3]=0;if(t.outboundAttractionDistribution){for(b=0,a=0;a<m;a+=10)b+=e[a+6];b/=m/10}if(t.barnesHutOptimize){var q,H,z,j=1/0,O=-1/0,L=1/0,R=-1/0;for(a=0;a<m;a+=10)j=Math.min(j,e[a+0]),O=Math.max(O,e[a+0]),L=Math.min(L,e[a+1]),R=Math.max(R,e[a+1]);var T=O-j,S=R-L;for(T>S?(L-=(T-S)/2,R=L+T):(j-=(S-T)/2,O=j+S),x[0]=-1,x[1]=(j+O)/2,x[2]=(L+R)/2,x[3]=Math.max(O-j,R-L),x[4]=-1,x[5]=-1,x[6]=0,x[7]=0,x[8]=0,n=1,a=0;a<m;a+=10)for(r=0,z=3;;){if(!(x[r+5]>=0)){if(x[r+0]<0){x[r+0]=a;break}if(x[r+5]=9*n,g=x[r+3]/2,f=x[r+5],x[f+0]=-1,x[f+1]=x[r+1]-g,x[f+2]=x[r+2]-g,x[f+3]=g,x[f+4]=f+9,x[f+5]=-1,x[f+6]=0,x[f+7]=0,x[f+8]=0,f+=9,x[f+0]=-1,x[f+1]=x[r+1]-g,x[f+2]=x[r+2]+g,x[f+3]=g,x[f+4]=f+9,x[f+5]=-1,x[f+6]=0,x[f+7]=0,x[f+8]=0,f+=9,x[f+0]=-1,x[f+1]=x[r+1]+g,x[f+2]=x[r+2]-g,x[f+3]=g,x[f+4]=f+9,x[f+5]=-1,x[f+6]=0,x[f+7]=0,x[f+8]=0,f+=9,x[f+0]=-1,x[f+1]=x[r+1]+g,x[f+2]=x[r+2]+g,x[f+3]=g,x[f+4]=x[r+4],x[f+5]=-1,x[f+6]=0,x[f+7]=0,x[f+8]=0,n+=4,q=e[x[r+0]+0]<x[r+1]?e[x[r+0]+1]<x[r+2]?x[r+5]:x[r+5]+9:e[x[r+0]+1]<x[r+2]?x[r+5]+18:x[r+5]+27,x[r+6]=e[x[r+0]+6],x[r+7]=e[x[r+0]+0],x[r+8]=e[x[r+0]+1],x[q+0]=x[r+0],x[r+0]=-1,H=e[a+0]<x[r+1]?e[a+1]<x[r+2]?x[r+5]:x[r+5]+9:e[a+1]<x[r+2]?x[r+5]+18:x[r+5]+27,q===H){if(z--){r=q;continue}z=3;break}x[H+0]=a;break}q=e[a+0]<x[r+1]?e[a+1]<x[r+2]?x[r+5]:x[r+5]+9:e[a+1]<x[r+2]?x[r+5]+18:x[r+5]+27,x[r+7]=(x[r+7]*x[r+6]+e[a+0]*e[a+6])/(x[r+6]+e[a+6]),x[r+8]=(x[r+8]*x[r+6]+e[a+1]*e[a+6])/(x[r+6]+e[a+6]),x[r+6]+=e[a+6],r=q}}if(t.barnesHutOptimize){for(d=t.scalingRatio,a=0;a<m;a+=10)for(r=0;;)if(x[r+5]>=0){if(M=Math.pow(e[a+0]-x[r+7],2)+Math.pow(e[a+1]-x[r+8],2),4*(h=x[r+3])*h/M<D){if(c=e[a+0]-x[r+7],p=e[a+1]-x[r+8],!0===A?M>0?(w=d*e[a+6]*x[r+6]/M,e[a+2]+=c*w,e[a+3]+=p*w):M<0&&(w=-d*e[a+6]*x[r+6]/Math.sqrt(M),e[a+2]+=c*w,e[a+3]+=p*w):M>0&&(w=d*e[a+6]*x[r+6]/M,e[a+2]+=c*w,e[a+3]+=p*w),(r=x[r+4])<0)break;continue}r=x[r+5]}else if(u=x[r+0],u>=0&&u!==a&&(c=e[a+0]-e[u+0],p=e[a+1]-e[u+1],M=c*c+p*p,!0===A?M>0?(w=d*e[a+6]*e[u+6]/M,e[a+2]+=c*w,e[a+3]+=p*w):M<0&&(w=-d*e[a+6]*e[u+6]/Math.sqrt(M),e[a+2]+=c*w,e[a+3]+=p*w):M>0&&(w=d*e[a+6]*e[u+6]/M,e[a+2]+=c*w,e[a+3]+=p*w)),(r=x[r+4])<0)break}else for(d=t.scalingRatio,i=0;i<m;i+=10)for(s=0;s<i;s+=10)c=e[i+0]-e[s+0],p=e[i+1]-e[s+1],!0===A?(M=Math.sqrt(c*c+p*p)-e[i+8]-e[s+8],M>0?(w=d*e[i+6]*e[s+6]/M/M,e[i+2]+=c*w,e[i+3]+=p*w,e[s+2]+=c*w,e[s+3]+=p*w):M<0&&(w=100*d*e[i+6]*e[s+6],e[i+2]+=c*w,e[i+3]+=p*w,e[s+2]-=c*w,e[s+3]-=p*w)):(M=Math.sqrt(c*c+p*p))>0&&(w=d*e[i+6]*e[s+6]/M/M,e[i+2]+=c*w,e[i+3]+=p*w,e[s+2]-=c*w,e[s+3]-=p*w);for(f=t.gravity/t.scalingRatio,d=t.scalingRatio,a=0;a<m;a+=10)w=0,c=e[a+0],p=e[a+1],M=Math.sqrt(Math.pow(c,2)+Math.pow(p,2)),t.strongGravityMode?M>0&&(w=d*e[a+6]*f):M>0&&(w=d*e[a+6]*f/M),e[a+2]-=c*w,e[a+3]-=p*w;for(d=1*(t.outboundAttractionDistribution?b:1),l=0;l<v;l+=3)i=o[l+0],s=o[l+1],g=o[l+2],y=Math.pow(g,t.edgeWeightInfluence),c=e[i+0]-e[s+0],p=e[i+1]-e[s+1],!0===A?(M=Math.sqrt(Math.pow(c,2)+Math.pow(p,2)-e[i+8]-e[s+8]),t.linLogMode?t.outboundAttractionDistribution?M>0&&(w=-d*y*Math.log(1+M)/M/e[i+6]):M>0&&(w=-d*y*Math.log(1+M)/M):t.outboundAttractionDistribution?M>0&&(w=-d*y/e[i+6]):M>0&&(w=-d*y)):(M=Math.sqrt(Math.pow(c,2)+Math.pow(p,2)),t.linLogMode?t.outboundAttractionDistribution?M>0&&(w=-d*y*Math.log(1+M)/M/e[i+6]):M>0&&(w=-d*y*Math.log(1+M)/M):t.outboundAttractionDistribution?(M=1,w=-d*y/e[i+6]):(M=1,w=-d*y)),M>0&&(e[i+2]+=c*w,e[i+3]+=p*w,e[s+2]-=c*w,e[s+3]-=p*w);var W,E,G,I,N,k;if(!0===A)for(a=0;a<m;a+=10)e[a+9]||(W=Math.sqrt(Math.pow(e[a+2],2)+Math.pow(e[a+3],2)),W>10&&(e[a+2]=10*e[a+2]/W,e[a+3]=10*e[a+3]/W),E=e[a+6]*Math.sqrt((e[a+4]-e[a+2])*(e[a+4]-e[a+2])+(e[a+5]-e[a+3])*(e[a+5]-e[a+3])),G=Math.sqrt((e[a+4]+e[a+2])*(e[a+4]+e[a+2])+(e[a+5]+e[a+3])*(e[a+5]+e[a+3]))/2,I=.1*Math.log(1+G)/(1+Math.sqrt(E)),N=e[a+0]+e[a+2]*(I/t.slowDown),e[a+0]=N,k=e[a+1]+e[a+3]*(I/t.slowDown),e[a+1]=k);else for(a=0;a<m;a+=10)e[a+9]||(E=e[a+6]*Math.sqrt((e[a+4]-e[a+2])*(e[a+4]-e[a+2])+(e[a+5]-e[a+3])*(e[a+5]-e[a+3])),G=Math.sqrt((e[a+4]+e[a+2])*(e[a+4]+e[a+2])+(e[a+5]+e[a+3])*(e[a+5]+e[a+3]))/2,I=e[a+7]*Math.log(1+G)/(1+Math.sqrt(E)),e[a+7]=Math.min(1,Math.sqrt(I*(Math.pow(e[a+2],2)+Math.pow(e[a+3],2))/(1+Math.sqrt(E)))),N=e[a+0]+e[a+2]*(I/t.slowDown),e[a+0]=N,k=e[a+1]+e[a+3]*(I/t.slowDown),e[a+1]=k);return{}}},function(t,e){e.assign=function(t){t=t||{};var e,o,n,r=Array.prototype.slice.call(arguments).slice(1);for(e=0,n=r.length;e<n;e++)if(r[e])for(o in r[e])t[o]=r[e][o];return t},e.validateSettings=function(t){return"linLogMode"in t&&"boolean"!=typeof t.linLogMode?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in t&&"boolean"!=typeof t.outboundAttractionDistribution?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in t&&"boolean"!=typeof t.adjustSizes?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in t&&"number"!=typeof t.edgeWeightInfluence&&t.edgeWeightInfluence<0?{message:"the `edgeWeightInfluence` setting should be a number >= 0."}:"scalingRatio"in t&&"number"!=typeof t.scalingRatio&&t.scalingRatio<0?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in t&&"boolean"!=typeof t.strongGravityMode?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in t&&"number"!=typeof t.gravity&&t.gravity<0?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in t&&"number"!=typeof t.slowDown&&t.slowDown<0?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in t&&"boolean"!=typeof t.barnesHutOptimize?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in t&&"number"!=typeof t.barnesHutTheta&&t.barnesHutTheta<0?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null},e.graphToByteArrays=function(t){var e,o,n=t.nodes(),r=t.edges(),a=n.length,i=r.length,s={},u=new Float32Array(10*a),l=new Float32Array(3*i);for(e=o=0;e<a;e++)s[n[e]]=o,u[o]=t.getNodeAttribute(n[e],"x"),u[o+1]=t.getNodeAttribute(n[e],"y"),u[o+2]=0,u[o+3]=0,u[o+4]=0,u[o+5]=0,u[o+6]=1+t.degree(n[e]),u[o+7]=1,u[o+8]=t.getNodeAttribute(n[e],"size")||1,u[o+9]=0,o+=10;for(e=o=0;e<i;e++)l[o]=s[t.source(r[e])],l[o+1]=s[t.target(r[e])],l[o+2]=t.getEdgeAttribute(r[e],"weight")||0,o+=3;return{nodes:u,edges:l}},e.assignLayoutChanges=function(t,e){for(var o=t.nodes(),n=0,r=0,a=e.length;n<a;n+=10)t.setNodeAttribute(o[r],"x",e[n]),t.setNodeAttribute(o[r],"y",e[n+1]),r++},e.collectLayoutChanges=function(t,e){for(var o=t.nodes(),n=Object.create(null),r=0,a=0,i=e.length;r<i;r+=10)n[o[a]]={x:e[r],y:e[r+1]},a++;return n}},function(t,e){t.exports={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}}])});